!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.AccessibleSubmenu=t():e.AccessibleSubmenu=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var i=n(1),u=o(i),s=n(2),r=o(s);e.exports=function(e,t){return(0,u.default)(e)?new r.default(e,t):void console.warn("accessible-submenu requires a valid HTMLElement.",e)}},function(e,t,n){"use strict";function o(e){return"object"===("undefined"==typeof HTMLElement?"undefined":i(HTMLElement))?e instanceof HTMLElement:e&&"object"===(void 0===e?"undefined":i(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=o},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(3),r=o(s),l=n(4),a=o(l),c=n(5),d={tab:9,enter:13,esc:27,space:32},f=function(){function e(t,n){i(this,e);var o={buttonSelector:".js-submenu-expand",submenuSelector:".js-submenu",stylingClass:"js-submenu-expanded",applyAriaCurrent:!0,closeOnTabOut:!0,focusFirstLink:!0,onClose:null,onOpen:null};this.options=(0,a.default)(o,n,!0),this.dom={el:t,button:t.querySelector(this.options.buttonSelector),submenu:t.querySelector(this.options.submenuSelector)},t&&this.dom.button&&this.dom.submenu&&(this.build(),this.bindEvents())}return u(e,[{key:"build",value:function(){this.id=this.dom.submenu.id||this.generateUniqueID(),this.dom.button.getAttribute("aria-expanded")||this.dom.button.setAttribute("aria-expanded",!1),this.dom.submenu.id||(this.dom.submenu.id=this.id),this.dom.submenu.role="navigation"}},{key:"bindEvents",value:function(){var e=this;this.dom.button.addEventListener("click",this.handleExpandClick.bind(this)),this.dom.button.addEventListener("keyup",function(t){t.keyCode===d.space&&e.toggleOpenClose()}),document.addEventListener("keyup",function(t){t.keyCode===d.esc&&e.isExpanded()&&(e.close(),e.dom.button.focus())})}},{key:"handleBlur",value:function(e){e.keyCode===d.tab&&(0,c.closest)(""+this.options.submenuSelector,document.activeElement)!==this.dom.submenu&&this.close()}},{key:"handleExpandClick",value:function(e){e.stopPropagation(),e.preventDefault(),this.toggleOpenClose()}},{key:"toggleOpenClose",value:function(){this.isExpanded()?this.close():this.open()}},{key:"open",value:function(){if(this.dom.button.setAttribute("aria-expanded",!0),this.dom.button.setAttribute("aria-controls",this.id),this.options.focusFirstLink){var e=this.dom.submenu.querySelector("a");e&&e.focus()}this.dom.el.classList.add(this.options.stylingClass),this.options.closeOnTabOut&&document.addEventListener("keyup",this.handleBlur.bind(this)),"function"==typeof this.options.onOpen&&this.options.onOpen(this)}},{key:"close",value:function(){this.dom.button.setAttribute("aria-expanded",!1),this.dom.button.removeAttribute("aria-controls"),this.dom.el.classList.remove(this.options.stylingClass),this.options.closeOnTabOut&&document.removeEventListener("keyup",this.handleBlur.bind(this)),"function"==typeof this.options.onClose&&this.options.onClose(this)}},{key:"generateUniqueID",value:function(){var e="js-submenu-"+(0,r.default)(6,0);return document.getElementById(e)&&(e=this.generateUniqueID()),e}},{key:"isExpanded",value:function(){return"true"===this.dom.button.getAttribute("aria-expanded")}},{key:"destroy",value:function(){}}]),e}();t.default=f},function(e,t,n){!function(){var t=function(e,t){var n=["abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ","0123456789","~!@#$%^&()_+-={}[];',"],o="",t=t||"aA0";t.split("").forEach(function(e){isNaN(parseInt(e))?/[a-z]/.test(e)?o+=n[0]:/[A-Z]/.test(e)?o+=n[1]:o+=n[3]:o+=n[2]});for(var e=e||30,i="";e--;)i+=o.charAt(Math.floor(Math.random()*o.length));return i};e.exports=t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t,n){var i,u;for(i in t)u=void 0!==e[i],u&&"object"===o(t[i])&&null!==t[i]&&void 0===t[i].nodeName?isDate(t[i])?n&&(e[i]=new Date(t[i].getTime())):isArray(t[i])?n&&(e[i]=t[i].slice(0)):e[i]=extend({},t[i],n):!n&&u||(e[i]=t[i]);return e}},function(e,t,n){"use strict";function o(e,t){var n=document.querySelectorAll(e),o=void 0;do{for(o=n.length;--o>=0&&n.item(o)!==t;);}while(o<0&&(t=t.parentElement));return t}Object.defineProperty(t,"__esModule",{value:!0}),t.closest=o}])});